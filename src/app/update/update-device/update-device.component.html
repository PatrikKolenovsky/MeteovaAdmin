<div *ngIf="loaded===true">
  <form *ngIf="device" class="ml-3 col-6" [formGroup]="updateDeviceForm" (ngSubmit)="submitForm()">
    <div class="form-group">
      <b>ID:</b> {{device.deviceId}}
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="deviceName" class="pt-2 mr-2">
          <b> Název zařízení: </b>
        </label>
        <input type="text"
               class="form-control"
               id="deviceName"
               formControlName="deviceName"
               placeholder="Název zařízení"
               value="{{device.deviceName}}">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="ip" class="pt-2 mr-2">
          <b> Ip adresa: </b>
        </label>
        <input type="text" class="form-control" id="ip" formControlName="ip" placeholder="ip adresa"
                                       value="{{device.ip}}">
      </div>
      <small class="form-text text-muted">Např. 127.0.0.0</small>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="port" class="pt-2 mr-2">
          <b> port: </b>
        </label>
        <input type="number" class="form-control" id="port" formControlName="port" placeholder="port"
               value="{{device.port}}">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="comServIp" class="pt-2 mr-2">
          <b> comServIp: </b>
        </label>
        <input type="text" class="form-control" id="comServIp" formControlName="comServIp" placeholder="comServIp"
               value="{{device.comServIp}}">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="comServPort" class="pt-2 mr-2">
          <b> comServPort: </b>
        </label>
        <input type="number" class="form-control" id="comServPort" formControlName="comServPort" placeholder="comServPort"
               value="{{device.comServPort}}">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="latitude" class="pt-2 mr-2">
          <b> latitude: </b>
        </label>
        <input type="number" class="form-control" id="latitude" formControlName="latitude" placeholder="latitude"
               value="{{device.latitude}}">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="longitude" class="pt-2 mr-2">
          <b> longitude: </b>
        </label>
        <input type="number" class="form-control" id="longitude" formControlName="longitude" placeholder="longitude"
               value="{{device.longitude}}">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group mb-2">
        <label for="address" class="pt-2 mr-2">
          <b> adresa: </b>
        </label>
        <input type="text" class="form-control" id="address" formControlName="address" placeholder="adresa"
               value="{{device.address}}">
      </div>
    </div>

    <div class="form-group">
      <label for="inUse" class="pt-2 mr-2"><b>Aktivní: </b></label>
      <select class="form-control" id="inUse" formControlName="inUse">
        <option>false</option>
        <option>true</option>
      </select>
    </div>

    <div class="form-group">
      <div class="input-group mb-2">
      <textarea type="text" class="form-control" id="description" formControlName="description" placeholder="Popis"
                value="{{device.description}}"></textarea>
      </div>
    </div>
    <div class="form-group" id="module">
      <h3>Moduly:</h3>
      <hr>
      <div class="input-group" *ngFor="let module of device.module">
        <label>
          <input class="mr-3" type="checkbox" checked value="{{module.moduleId}}"><b>{{module.name}}</b>
        </label>
      </div>
      <div class="input-group" *ngFor="let module of moduleData">
        <label>
          <input class="mr-3" type="checkbox" value="{{module.moduleId}}">{{module.name}}
        </label>
      </div>
    </div>

    <div class="form-group">
      <select (click)="selectChangeHandler($event)" class="form-control" id="connection" required>
        <option value=""> - Připojení -</option>
        <option value="lora"> LoRa</option>
        <option value="wifi"> Wifi</option>
      </select>
    </div>

    <span *ngIf="connectionOption==='wifi'">
    <small class="form-text text-muted">Soubor ke stažení zde (TODO)</small>
  </span>
    <div class="form-group" *ngIf="connectionOption==='lora'">
      <div class="input-group mb-2">
        <input type="text" class="form-control" id="loRaGateway" placeholder="LoRa Gateway">
      </div>
      <small class="form-text text-muted">např. https://console.thethingsnetwork.org/gateways/..</small>
    </div>
    <button type="submit" class="mt-3 btn btn-primary">Uložit</button>
  </form>
</div>
